<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="cache-control" content="max-age=86400"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PVSnesLib: include/snes/interrupt.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="dox_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this aaooaaa div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pvsicon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PVSnesLib
   &#160;<span id="projectnumber">4.3.0</span>
   </div>
   <div id="projectbrief">Documentation to code in C or ASM for the Nintendo SNES</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('interrupt_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">interrupt.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>snes interrupt support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="snestypes_8h_source.html">snes/snestypes.h</a>&gt;</code><br />
</div>
<p><a href="interrupt_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a88d83a889f8e1d016cedfbd0476db989" id="r_a88d83a889f8e1d016cedfbd0476db989"><td class="memItemLeft" align="right" valign="top"><a id="a88d83a889f8e1d016cedfbd0476db989" name="a88d83a889f8e1d016cedfbd0476db989"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HBL_READY</b>&#160;&#160;&#160;(1 &lt;&lt; 6)</td></tr>
<tr class="memdesc:a88d83a889f8e1d016cedfbd0476db989"><td class="mdescLeft">&#160;</td><td class="mdescRight">H-Blank Period Flag (0=No, 1=HBlank) <br /></td></tr>
<tr class="separator:a88d83a889f8e1d016cedfbd0476db989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac352c6a25f2e170d7b2bf2236bd31427" id="r_ac352c6a25f2e170d7b2bf2236bd31427"><td class="memItemLeft" align="right" valign="top"><a id="ac352c6a25f2e170d7b2bf2236bd31427" name="ac352c6a25f2e170d7b2bf2236bd31427"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INT_HVIRQ_H</b>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr class="memdesc:ac352c6a25f2e170d7b2bf2236bd31427"><td class="mdescLeft">&#160;</td><td class="mdescRight">H/V IRQ (0=Disable, 1=At H=H + V=Any, 2=At V=V + H=0, 3=At H=H + V=V) <br /></td></tr>
<tr class="separator:ac352c6a25f2e170d7b2bf2236bd31427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062bd6ffa662638df005a03cd2c0a3fb" id="r_a062bd6ffa662638df005a03cd2c0a3fb"><td class="memItemLeft" align="right" valign="top"><a id="a062bd6ffa662638df005a03cd2c0a3fb" name="a062bd6ffa662638df005a03cd2c0a3fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INT_HVIRQ_HV</b>&#160;&#160;&#160;(2 &lt;&lt; 4)</td></tr>
<tr class="memdesc:a062bd6ffa662638df005a03cd2c0a3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">H/V IRQ (0=Disable, 1=At H=H + V=Any, 2=At V=V + H=0, 3=At H=H + V=V) <br /></td></tr>
<tr class="separator:a062bd6ffa662638df005a03cd2c0a3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b588e60e5abfeaf59ba4c8fd826cfa" id="r_a54b588e60e5abfeaf59ba4c8fd826cfa"><td class="memItemLeft" align="right" valign="top"><a id="a54b588e60e5abfeaf59ba4c8fd826cfa" name="a54b588e60e5abfeaf59ba4c8fd826cfa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INT_HVIRQ_V</b>&#160;&#160;&#160;(1 &lt;&lt; 5)</td></tr>
<tr class="memdesc:a54b588e60e5abfeaf59ba4c8fd826cfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">H/V IRQ (0=Disable, 1=At H=H + V=Any, 2=At V=V + H=0, 3=At H=H + V=V) <br /></td></tr>
<tr class="separator:a54b588e60e5abfeaf59ba4c8fd826cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a66ed24f182a8d056f7db1cab6eb82" id="r_ab4a66ed24f182a8d056f7db1cab6eb82"><td class="memItemLeft" align="right" valign="top"><a id="ab4a66ed24f182a8d056f7db1cab6eb82" name="ab4a66ed24f182a8d056f7db1cab6eb82"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INT_JOYPAD_ENABLE</b>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:ab4a66ed24f182a8d056f7db1cab6eb82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joypad Enable (0=Disable, 1=Enable Automatic Reading of Joypad) <br /></td></tr>
<tr class="separator:ab4a66ed24f182a8d056f7db1cab6eb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435380b6460ebd669f2b344ea79316d6" id="r_a435380b6460ebd669f2b344ea79316d6"><td class="memItemLeft" align="right" valign="top"><a id="a435380b6460ebd669f2b344ea79316d6" name="a435380b6460ebd669f2b344ea79316d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INT_VBLENABLE</b>&#160;&#160;&#160;(1 &lt;&lt; 7)</td></tr>
<tr class="memdesc:a435380b6460ebd669f2b344ea79316d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">VBlank NMI Enable (0=Disable, 1=Enable) (Initially disabled on reset) <br /></td></tr>
<tr class="separator:a435380b6460ebd669f2b344ea79316d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2094086b43aa835d241e35153f8ed1bc" id="r_a2094086b43aa835d241e35153f8ed1bc"><td class="memItemLeft" align="right" valign="top"><a id="a2094086b43aa835d241e35153f8ed1bc" name="a2094086b43aa835d241e35153f8ed1bc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PAD_BUSY</b>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:a2094086b43aa835d241e35153f8ed1bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auto-Joypad-Read Busy Flag (1=Busy) (see 4200h, and 4218h..421Fh) <br /></td></tr>
<tr class="separator:a2094086b43aa835d241e35153f8ed1bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25c0fcc5e2519aa98aebe289d391ca2" id="r_af25c0fcc5e2519aa98aebe289d391ca2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#af25c0fcc5e2519aa98aebe289d391ca2">REG_HVBJOY</a>&#160;&#160;&#160;(*(vuint8 *)0x4212)</td></tr>
<tr class="memdesc:af25c0fcc5e2519aa98aebe289d391ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">H/V-Blank flag and Joypad Busy flag (R).<br  />
  <br /></td></tr>
<tr class="separator:af25c0fcc5e2519aa98aebe289d391ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8627bb48b8760c306190eb7ed050af73" id="r_a8627bb48b8760c306190eb7ed050af73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#a8627bb48b8760c306190eb7ed050af73">REG_NMITIMEN</a>&#160;&#160;&#160;(*(vuint8 *)0x4200)</td></tr>
<tr class="memdesc:a8627bb48b8760c306190eb7ed050af73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Enable and Joypad Request (W).<br  />
  <br /></td></tr>
<tr class="separator:a8627bb48b8760c306190eb7ed050af73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a29932a3a9cf7dbbf25a3a30c9e25fa" id="r_a3a29932a3a9cf7dbbf25a3a30c9e25fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#a3a29932a3a9cf7dbbf25a3a30c9e25fa">REG_RDNMI</a>&#160;&#160;&#160;(*(vuint8 *)0x4210)</td></tr>
<tr class="memdesc:a3a29932a3a9cf7dbbf25a3a30c9e25fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">V-Blank NMI Flag and CPU Version Number (R) (Read/Ack)<br  />
  <br /></td></tr>
<tr class="separator:a3a29932a3a9cf7dbbf25a3a30c9e25fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4cdfac45db001765030cdde91204fe" id="r_abd4cdfac45db001765030cdde91204fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#abd4cdfac45db001765030cdde91204fe">REG_TIMEUP</a>&#160;&#160;&#160;(*(vuint8 *)0x4211)</td></tr>
<tr class="memdesc:abd4cdfac45db001765030cdde91204fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">TIMEUP - H/V-Timer IRQ Flag (R) (Read/Ack)<br  />
<br  />
  <br /></td></tr>
<tr class="separator:abd4cdfac45db001765030cdde91204fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1982e080d74da9e146881ca580ffec0d" id="r_a1982e080d74da9e146881ca580ffec0d"><td class="memItemLeft" align="right" valign="top"><a id="a1982e080d74da9e146881ca580ffec0d" name="a1982e080d74da9e146881ca580ffec0d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VBL_READY</b>&#160;&#160;&#160;(1 &lt;&lt; 7)</td></tr>
<tr class="memdesc:a1982e080d74da9e146881ca580ffec0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">V-Blank Period Flag (0=No, 1=VBlank) <br /></td></tr>
<tr class="separator:a1982e080d74da9e146881ca580ffec0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eed974163eb704dbc5a25d6f95b8ccd" id="r_a6eed974163eb704dbc5a25d6f95b8ccd"><td class="memItemLeft" align="right" valign="top"><a id="a6eed974163eb704dbc5a25d6f95b8ccd" name="a6eed974163eb704dbc5a25d6f95b8ccd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WaitVBLFlag</b></td></tr>
<tr class="memdesc:a6eed974163eb704dbc5a25d6f95b8ccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for VBL flag to be OK<br  />
 <br /></td></tr>
<tr class="separator:a6eed974163eb704dbc5a25d6f95b8ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a561c07a0f7afbf65a1e94e9bd04c4167" id="r_a561c07a0f7afbf65a1e94e9bd04c4167"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#a561c07a0f7afbf65a1e94e9bd04c4167">nmiSet</a> (void(*vblankRoutine)(void))</td></tr>
<tr class="memdesc:a561c07a0f7afbf65a1e94e9bd04c4167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446" title="VBlank routine.">nmi_handler</a> (VBlank routine).  <br /></td></tr>
<tr class="separator:a561c07a0f7afbf65a1e94e9bd04c4167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd33830487e4764e5ec22ec98b749f4b" id="r_abd33830487e4764e5ec22ec98b749f4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#abd33830487e4764e5ec22ec98b749f4b">WaitForVBlank</a> (void)</td></tr>
<tr class="memdesc:abd33830487e4764e5ec22ec98b749f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for a VBlank interrupt.  <br /></td></tr>
<tr class="separator:abd33830487e4764e5ec22ec98b749f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0150594ed1a86784c4cd96b1ff11a0e" id="r_ac0150594ed1a86784c4cd96b1ff11a0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#ac0150594ed1a86784c4cd96b1ff11a0e">WaitNVBlank</a> (u16 ntime)</td></tr>
<tr class="memdesc:ac0150594ed1a86784c4cd96b1ff11a0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for vblank interrupt ntime times<br  />
  <br /></td></tr>
<tr class="separator:ac0150594ed1a86784c4cd96b1ff11a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a63d95c0c4102e776c34d4242fb9dfe75" id="r_a63d95c0c4102e776c34d4242fb9dfe75"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#a63d95c0c4102e776c34d4242fb9dfe75">lag_frame_counter</a></td></tr>
<tr class="memdesc:a63d95c0c4102e776c34d4242fb9dfe75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lag-frame counter.  <br /></td></tr>
<tr class="separator:a63d95c0c4102e776c34d4242fb9dfe75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd4e9951923d72a51cc570b57796446" id="r_a6bd4e9951923d72a51cc570b57796446"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446">nmi_handler</a></td></tr>
<tr class="memdesc:a6bd4e9951923d72a51cc570b57796446"><td class="mdescLeft">&#160;</td><td class="mdescRight">VBlank routine.  <br /></td></tr>
<tr class="separator:a6bd4e9951923d72a51cc570b57796446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbca2a2c27be5ed036263def68c53533" id="r_abbca2a2c27be5ed036263def68c53533"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8h.html#abbca2a2c27be5ed036263def68c53533">vblank_flag</a></td></tr>
<tr class="memdesc:abbca2a2c27be5ed036263def68c53533"><td class="mdescLeft">&#160;</td><td class="mdescRight">VBlank ISR flag.  <br /></td></tr>
<tr class="separator:abbca2a2c27be5ed036263def68c53533"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>snes interrupt support. </p>
<h2>VBlank ISR<a class="anchor" id="VBlank-ISR"></a></h2>
<p>PVSnesLib includes a Vertical Blank Interrupt Service Routine (VBlank ISR or NMI ISR) that will do the following actions (in this order) at the start of the Vertical Blanking Period when VBlank interrupts are enabled:</p><ul>
<li>Transfer <a class="el" href="sprite_8h.html#a832f0c151a6b4de3bd1f5c23aff47848" title="to address oam table low and high">oamMemory</a> to the PPU OAM on non lag-frames.</li>
<li>Call <a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446" title="VBlank routine.">nmi_handler</a>.</li>
<li>Increment <a class="el" href="console_8h.html#a5e14b74b621c822db9af978d0ad31d1a" title="Number of VBL since consoleInit called (16 bits longs so reset each 18 minutes in NTSC)">snes_vblank_count</a>.</li>
<li>Read inputs from the controller ports on non lag-frames (see <a class="el" href="input_8h.html" title="input support.">input.h</a>).</li>
<li>Increment <a class="el" href="interrupt_8h.html#a63d95c0c4102e776c34d4242fb9dfe75" title="Lag-frame counter.">lag_frame_counter</a> on lag-frames.</li>
</ul>
<p>A lag-frame is when the execution time between two <a class="el" href="interrupt_8h.html#abd33830487e4764e5ec22ec98b749f4b" title="Waits for a VBlank interrupt.">WaitForVBlank()</a> calls exceeds a 50/60Hz display frame. By testing for lag-frames, the VBlank ISR will not transfer a partially populated <a class="el" href="sprite_8h.html#a832f0c151a6b4de3bd1f5c23aff47848" title="to address oam table low and high">oamMemory</a> to the PPU OAM.</p>
<p>Lag-frames are determined by the <a class="el" href="interrupt_8h.html#abbca2a2c27be5ed036263def68c53533" title="VBlank ISR flag.">vblank_flag</a> variable, which is set on <a class="el" href="interrupt_8h.html#abd33830487e4764e5ec22ec98b749f4b" title="Waits for a VBlank interrupt.">WaitForVBlank()</a> and cleared in the VBlank ISR.</p>
<p>Inputs are only read on non lag-frames to prevent the input state from unexpectedly changing in the middle of the main loop (potentially causing a heisenbug). Code that loops until a button is pressed must call <a class="el" href="interrupt_8h.html#abd33830487e4764e5ec22ec98b749f4b" title="Waits for a VBlank interrupt.">WaitForVBlank()</a> within the loop otherwise it will loop forever.</p>
<p>The <a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446" title="VBlank routine.">nmi_handler</a> function pointer (set using <a class="el" href="interrupt_8h.html#a561c07a0f7afbf65a1e94e9bd04c4167" title="Sets the nmi_handler (VBlank routine).">nmiSet()</a>) is called on <b>every</b> VBlank interrupt (even during force-blank / <a class="el" href="video_8h.html#aaeaea299a3cfb90fa5232b842f7f7cd0" title="Put screen Off.">setScreenOff()</a>). To prevent glitches, <a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446" title="VBlank routine.">nmi_handler</a>'s should either:</p><ul>
<li>Test <a class="el" href="interrupt_8h.html#abbca2a2c27be5ed036263def68c53533" title="VBlank ISR flag.">vblank_flag</a> and only update the PPU registers/memory if the <a class="el" href="interrupt_8h.html#abbca2a2c27be5ed036263def68c53533" title="VBlank ISR flag.">vblank_flag</a> is set.</li>
<li>Use locks or flags on every buffer/queue to prevent partially populated data from being transferred to the PPU. </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af25c0fcc5e2519aa98aebe289d391ca2" name="af25c0fcc5e2519aa98aebe289d391ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25c0fcc5e2519aa98aebe289d391ca2">&#9670;&#160;</a></span>REG_HVBJOY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG_HVBJOY&#160;&#160;&#160;(*(vuint8 *)0x4212)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>H/V-Blank flag and Joypad Busy flag (R).<br  />
 </p>
<p>7 V-Blank Period Flag (0=No, 1=VBlank)<br  />
 6 H-Blank Period Flag (0=No, 1=HBlank)<br  />
 5-1 Not used<br  />
 0 Auto-Joypad-Read Busy Flag (1=Busy) (see 4200h, and 4218h..421Fh)<br  />
 <br  />
 The Hblank flag gets toggled in ALL scanlines (including during Vblank/Vsync).<br  />
 Both Vblank and Hblank are always toggling (even during Forced Blank, <br  />
 and no matter if IRQs or NMIs are enabled<br  />
 </p>

</div>
</div>
<a id="a8627bb48b8760c306190eb7ed050af73" name="a8627bb48b8760c306190eb7ed050af73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8627bb48b8760c306190eb7ed050af73">&#9670;&#160;</a></span>REG_NMITIMEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG_NMITIMEN&#160;&#160;&#160;(*(vuint8 *)0x4200)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Enable and Joypad Request (W).<br  />
 </p>
<p>7 VBlank NMI Enable (0=Disable, 1=Enable) (Initially disabled on reset)<br  />
 6 Not used<br  />
 5-4 H/V IRQ (0=Disable, 1=At H=H + V=Any, 2=At V=V + H=0, 3=At H=H + V=V)<br  />
 3-1 Not used<br  />
 0 Joypad Enable (0=Disable, 1=Enable Automatic Reading of Joypad)<br  />
 <br  />
 Disabling IRQs (via bit4-5) does additionally acknowledge IRQs.<br  />
 There's no such effect when disabling NMIs (via bit7).<br  />
 </p>

</div>
</div>
<a id="a3a29932a3a9cf7dbbf25a3a30c9e25fa" name="a3a29932a3a9cf7dbbf25a3a30c9e25fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a29932a3a9cf7dbbf25a3a30c9e25fa">&#9670;&#160;</a></span>REG_RDNMI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG_RDNMI&#160;&#160;&#160;(*(vuint8 *)0x4210)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>V-Blank NMI Flag and CPU Version Number (R) (Read/Ack)<br  />
 </p>
<p>7 Vblank NMI Flag (0=None, 1=Interrupt Request) (set on Begin of Vblank)<br  />
 6-4 Not used<br  />
 3-0 CPU 5A22 Version Number (version 2 exists)<br  />
 <br  />
 The NMI flag gets set at begin of Vblank (this happens even if NMIs are disabled). The flag gets reset automatically<br  />
 at end of Vblank, and gets also reset after reading from this register.<br  />
 The SNES has only one NMI source (vblank), and the NMI flag is automatically reset (on vblank end), so there's<br  />
 normally no need to read/acknowledge the flag, except one special case: If one does disable and re-enable NMIs,<br  />
 then an old NMI may be executed again; acknowledging avoids that effect.<br  />
 The CPU includes another internal NMI flag, which gets set when "[4200h].7 AND [4210h].7" changes from 0-to-1, and<br  />
 gets cleared when the NMI gets executed (which should happen around after the next opcode) (if a DMA transfer is<br  />
 in progress, then it is somewhere after the DMA, in that case the NMI can get executed outside of the Vblank<br  />
 period, ie. at a time when [4210h].7 is no longer set).<br  />
 </p>

</div>
</div>
<a id="abd4cdfac45db001765030cdde91204fe" name="abd4cdfac45db001765030cdde91204fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4cdfac45db001765030cdde91204fe">&#9670;&#160;</a></span>REG_TIMEUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG_TIMEUP&#160;&#160;&#160;(*(vuint8 *)0x4211)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TIMEUP - H/V-Timer IRQ Flag (R) (Read/Ack)<br  />
<br  />
 </p>
<p>7 H/V-Count Timer IRQ Flag (0=None, 1=Interrupt Request)<br  />
 6-0 Not used<br  />
 <br  />
 The IRQ flag is automatically reset after reading from this register<br  />
 (except when reading at the very time when the IRQ condition is true <br  />
 (which lasts for 4-8 master cycles), then the CPU receives bit7=1, <br  />
 but register bit7 isn't cleared). The flag is also automatically cleared <br  />
 when disabling IRQs (by setting 4200h.Bit5-4 to zero).<br  />
 Unlike NMI handlers, IRQ handlers MUST acknowledge IRQs, otherwise the IRQ <br  />
 gets executed again (ie. immediately after the RTI opcode).<br  />
 </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a561c07a0f7afbf65a1e94e9bd04c4167" name="a561c07a0f7afbf65a1e94e9bd04c4167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a561c07a0f7afbf65a1e94e9bd04c4167">&#9670;&#160;</a></span>nmiSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nmiSet </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>vblankRoutine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446" title="VBlank routine.">nmi_handler</a> (VBlank routine). </p>
<p>This function will also disable any active IRQ interrupts, enable VBlank interrupts and enable Joypad Auto-Read.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vblankRoutine</td><td>the function to call on every VBlank (NMI) interrupt.<br  />
</td></tr>
  </table>
  </dd>
</dl>
<p><b>CAUTION:</b> <code>vblankRoutine</code> is called on <b>every</b> VBlank interrupt. <a class="el" href="interrupt_8h.html#abbca2a2c27be5ed036263def68c53533" title="VBlank ISR flag.">vblank_flag</a> can be used to determine if <code>vblankRoutine</code> was called during a lag-frame.</p>
<p><b>CAUTION:</b> This function will override the default <a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446" title="VBlank routine.">nmi_handler</a>. If you are using <a class="el" href="console_8h.html#a7e52d15b5a1befa42f5758de19dfb70c" title="Output formatted string on a screen (tiles mode)">consoleDrawText()</a>, you will need to call consoleVblank() inside <code>vblankRoutine</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="interrupt_8h.html#VBlank-ISR">VBlank-ISR</a>, <a class="el" href="interrupt_8h.html#a6bd4e9951923d72a51cc570b57796446" title="VBlank routine.">nmi_handler</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="graphics_2_backgrounds_2_mode1_continuos_scroll_2_mode1_continuos_scroll_8c-example.html#a18">graphics/Backgrounds/Mode1ContinuosScroll/Mode1ContinuosScroll.c</a>, and <a class="el" href="graphics_2_sprites_2_dynamic_sprite_2_dynamic_sprite_8c-example.html#a2">graphics/Sprites/DynamicSprite/DynamicSprite.c</a>.</dd>
</dl>

</div>
</div>
<a id="abd33830487e4764e5ec22ec98b749f4b" name="abd33830487e4764e5ec22ec98b749f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd33830487e4764e5ec22ec98b749f4b">&#9670;&#160;</a></span>WaitForVBlank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WaitForVBlank </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for a VBlank interrupt. </p>
<p>Sets the <a class="el" href="interrupt_8h.html#abbca2a2c27be5ed036263def68c53533" title="VBlank ISR flag.">vblank_flag</a> and pauses execution until the <a class="el" href="interrupt_8h.html#abbca2a2c27be5ed036263def68c53533" title="VBlank ISR flag.">vblank_flag</a> is cleared (by the <a class="el" href="interrupt_8h.html#VBlank-ISR">VBlank-ISR</a>).</p>
<p><b>CAUTION:</b> This function will loop forever if VBlank interrupts are disabled.</p>
<p><b>Assembly note</b>: This function will not modify the A/X/Y registers and can be called with an 8 or 16 bit <code>.ACCU</code>/<code>.INDEX</code>. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="audio_2effects_2effects_8c-example.html#a20">audio/effects/effects.c</a>, <a class="el" href="audio_2effectsandmusic_2effectsandmusic_8c-example.html#a24">audio/effectsandmusic/effectsandmusic.c</a>, <a class="el" href="audio_2music_2_music_8c-example.html#a15">audio/music/Music.c</a>, <a class="el" href="audio_2music_greater_than32k_2music_greater_than32k_8c-example.html#a15">audio/musicGreaterThan32k/musicGreaterThan32k.c</a>, <a class="el" href="audio_2tada_2_tada_8c-example.html#a19">audio/tada/Tada.c</a>, <a class="el" href="breakpoints_2src_2breakpoints_8c-example.html#a11">breakpoints/src/breakpoints.c</a>, <a class="el" href="debug_2debug_8c-example.html#a5">debug/debug.c</a>, <a class="el" href="games_2breakout_2breakout_8c-example.html#a1">games/breakout/breakout.c</a>, <a class="el" href="games_2likemario_2_like_mario_8c-example.html#a62">games/likemario/LikeMario.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode0_2_mode0_8c-example.html#a5">graphics/Backgrounds/Mode0/Mode0.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode1_2_mode1_8c-example.html#a5">graphics/Backgrounds/Mode1/Mode1.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode1_b_g3_high_priority_2_mode1_b_g3_high_priority_8c-example.html#a2">graphics/Backgrounds/Mode1BG3HighPriority/Mode1BG3HighPriority.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode1_continuos_scroll_2_mode1_continuos_scroll_8c-example.html#a10">graphics/Backgrounds/Mode1ContinuosScroll/Mode1ContinuosScroll.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode1_l_z77_2_mode1_l_z77_8c-example.html#a5">graphics/Backgrounds/Mode1LZ77/Mode1LZ77.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode1_mixed_scroll_2_mode1_mixed_scroll_8c-example.html#a6">graphics/Backgrounds/Mode1MixedScroll/Mode1MixedScroll.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode1_png_2_mode1_8c-example.html#a5">graphics/Backgrounds/Mode1Png/Mode1.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode1_scroll_2_mode1_scroll_8c-example.html#a18">graphics/Backgrounds/Mode1Scroll/Mode1Scroll.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode3_2_mode3_8c-example.html#a1">graphics/Backgrounds/Mode3/Mode3.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode5_2_mode5_8c-example.html#a6">graphics/Backgrounds/Mode5/Mode5.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode7_2_mode7_8c-example.html#a7">graphics/Backgrounds/Mode7/Mode7.c</a>, <a class="el" href="graphics_2_backgrounds_2_mode7_perspective_2_mode7_perspective_8c-example.html#a18">graphics/Backgrounds/Mode7Perspective/Mode7Perspective.c</a>, <a class="el" href="graphics_2_effects_2_fading_2_fading_8c-example.html#a1">graphics/Effects/Fading/Fading.c</a>, <a class="el" href="graphics_2_effects_2_gradient_colors_2_gradient_colors_8c-example.html#a10">graphics/Effects/GradientColors/GradientColors.c</a>, <a class="el" href="graphics_2_effects_2_h_d_m_a_gradient_2_h_d_m_a_gradient_8c-example.html#a9">graphics/Effects/HDMAGradient/HDMAGradient.c</a>, <a class="el" href="graphics_2_effects_2_mosaic_shading_2_mosaic_shading_8c-example.html#a1">graphics/Effects/MosaicShading/MosaicShading.c</a>, <a class="el" href="graphics_2_effects_2_parallax_scrolling_2_parallax_scrolling_8c-example.html#a7">graphics/Effects/ParallaxScrolling/ParallaxScrolling.c</a>, <a class="el" href="graphics_2_effects_2_transparency_2_transparency_8c-example.html#a8">graphics/Effects/Transparency/Transparency.c</a>, <a class="el" href="graphics_2_effects_2_transparent_window_2src_2main_8c-example.html#a6">graphics/Effects/TransparentWindow/src/main.c</a>, <a class="el" href="graphics_2_effects_2_waves_2_waves_8c-example.html#a11">graphics/Effects/Waves/Waves.c</a>, <a class="el" href="graphics_2_effects_2_window_2_window_8c-example.html#a16">graphics/Effects/Window/Window.c</a>, <a class="el" href="graphics_2_palette_2_get_colors_2_get_colors_8c-example.html#a11">graphics/Palette/GetColors/GetColors.c</a>, <a class="el" href="graphics_2_sprites_2_animated_sprite_2_animated_sprite_8c-example.html#a13">graphics/Sprites/AnimatedSprite/AnimatedSprite.c</a>, <a class="el" href="graphics_2_sprites_2_dynamic_engine_meta_sprite_2_dynamic_engine_meta_sprite_8c-example.html#a15">graphics/Sprites/DynamicEngineMetaSprite/DynamicEngineMetaSprite.c</a>, <a class="el" href="graphics_2_sprites_2_dynamic_engine_sprite_2_dynamic_engine_sprite_8c-example.html#a19">graphics/Sprites/DynamicEngineSprite/DynamicEngineSprite.c</a>, <a class="el" href="graphics_2_sprites_2_dynamic_sprite_2_dynamic_sprite_8c-example.html#a12">graphics/Sprites/DynamicSprite/DynamicSprite.c</a>, <a class="el" href="graphics_2_sprites_2_object_size_2_object_size_8c-example.html#a1">graphics/Sprites/ObjectSize/ObjectSize.c</a>, <a class="el" href="graphics_2_sprites_2_simple_sprite_2_simple_sprite_8c-example.html#a7">graphics/Sprites/SimpleSprite/SimpleSprite.c</a>, <a class="el" href="hello_world_2src_2hello_world_8c-example.html#a10">hello_world/src/hello_world.c</a>, <a class="el" href="input_2controller_2controller_8c-example.html#a23">input/controller/controller.c</a>, <a class="el" href="input_2mouse_2mouse_8c-example.html#a9">input/mouse/mouse.c</a>, <a class="el" href="input_2multiplay5_2multiplay5_8c-example.html#a25">input/multiplay5/multiplay5.c</a>, <a class="el" href="input_2superscope_2superscope_8c-example.html#a20">input/superscope/superscope.c</a>, <a class="el" href="maps_2mapscroll_2mapscroll_8c-example.html#a17">maps/mapscroll/mapscroll.c</a>, <a class="el" href="maps_2tiled_2tiled_8c-example.html#a11">maps/tiled/tiled.c</a>, <a class="el" href="memory_mapping_2src_2memory_mapping_8c-example.html#a10">memory_mapping/src/memory_mapping.c</a>, <a class="el" href="objects_2mapandobjects_2mapandobjects_8c-example.html#a15">objects/mapandobjects/mapandobjects.c</a>, <a class="el" href="objects_2moveobjects_2moveobjects_8c-example.html#a26">objects/moveobjects/moveobjects.c</a>, <a class="el" href="objects_2nogravityobject_2nogravityobjects_8c-example.html#a16">objects/nogravityobject/nogravityobjects.c</a>, <a class="el" href="random_2random_8c-example.html#a11">random/random.c</a>, <a class="el" href="scoring_2scoring_8c-example.html#a13">scoring/scoring.c</a>, <a class="el" href="sram_2sramoffset_2sramoffset_8c-example.html#a17">sram/sramoffset/sramoffset.c</a>, <a class="el" href="sram_2sramsimple_2sram_8c-example.html#a15">sram/sramsimple/sram.c</a>, <a class="el" href="testregion_2testregion_8c-example.html#a11">testregion/testregion.c</a>, <a class="el" href="timer_2timer_8c-example.html#a11">timer/timer.c</a>, and <a class="el" href="typeconsole_2src_2pal_ntsc_8c-example.html#a11">typeconsole/src/pal_ntsc.c</a>.</dd>
</dl>

</div>
</div>
<a id="ac0150594ed1a86784c4cd96b1ff11a0e" name="ac0150594ed1a86784c4cd96b1ff11a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0150594ed1a86784c4cd96b1ff11a0e">&#9670;&#160;</a></span>WaitNVBlank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WaitNVBlank </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>ntime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for vblank interrupt ntime times<br  />
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ntime</td><td>number of time to wait VBlank Interrupt<br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="input_2superscope_2superscope_8c-example.html#a21">input/superscope/superscope.c</a>.</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a63d95c0c4102e776c34d4242fb9dfe75" name="a63d95c0c4102e776c34d4242fb9dfe75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d95c0c4102e776c34d4242fb9dfe75">&#9670;&#160;</a></span>lag_frame_counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u16 lag_frame_counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lag-frame counter. </p>
<p>This variable is incremented on every VBlank Interrupt that occurs during a lag-frame.</p>
<p><b>CAUTION:</b> The lag frame counter cannot tell the difference between a lag-frame and force-blank setup loading graphics to the PPU.</p>
<p><code>lag_frame_counter</code> can be modified. This is useful in development builds to measure the amount of lag in a level by resetting <code>lag_frame_counter</code> on level load and printing <code>lag_frame_counter</code> on a pause screen or at the end of the level. </p>

</div>
</div>
<a id="a6bd4e9951923d72a51cc570b57796446" name="a6bd4e9951923d72a51cc570b57796446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd4e9951923d72a51cc570b57796446">&#9670;&#160;</a></span>nmi_handler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* nmi_handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>VBlank routine. </p>
<p>This function is called on <b>every</b> VBlank interrupt by the <a class="el" href="interrupt_8h.html#VBlank-ISR">VBlank Interrupt Service Routine</a>.</p>
<p><b>CAUTION:</b> Writes to <code>nmi_handler</code> are <b>not atomic</b> and can cause a crash if a VBlank Interrupt occurs in the middle of the <code>nmi_handler</code> write. Use <a class="el" href="interrupt_8h.html#a561c07a0f7afbf65a1e94e9bd04c4167" title="Sets the nmi_handler (VBlank routine).">nmiSet()</a> or disable NMI interrupts when modifying <code>nmi_handler</code>.</p>
<p><b>Assembly note:</b> This function pointer will be called with a non-zero Direct Page register to prevent <code>nmi_handler</code> from clobbering the tcc imaginary registers.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="interrupt_8h.html#VBlank-ISR">VBlank-ISR</a>, <a class="el" href="interrupt_8h.html#a561c07a0f7afbf65a1e94e9bd04c4167" title="Sets the nmi_handler (VBlank routine).">nmiSet()</a> </dd></dl>

</div>
</div>
<a id="abbca2a2c27be5ed036263def68c53533" name="abbca2a2c27be5ed036263def68c53533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbca2a2c27be5ed036263def68c53533">&#9670;&#160;</a></span>vblank_flag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8 vblank_flag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>VBlank ISR flag. </p>
<p>Used to detect lag-frames in the VBlank ISR.</p>
<p>This variable is set to a truthy (non-zero) value in <a class="el" href="interrupt_8h.html#abd33830487e4764e5ec22ec98b749f4b" title="Waits for a VBlank interrupt.">WaitForVBlank()</a> and cleared in the NMI ISR after the call to nmi_handler.</p>
<p>vblank_flag can be used in a custom nmi_handler to detect lag frames. Within nmi_handler:</p><ul>
<li>If vblank_flag is truthy (non-zero), the nmi_handler was called at the end of the frame.</li>
<li>If vblank_flag is 0, the nmi_handler was called in the middle of a lag frame.</li>
</ul>
<p><b>CAUTION:</b> This variable SHOULD NOT be changed outside of <a class="el" href="interrupt_8h.html#abd33830487e4764e5ec22ec98b749f4b" title="Waits for a VBlank interrupt.">WaitForVBlank()</a> </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="graphics_2_backgrounds_2_mode1_continuos_scroll_2_mode1_continuos_scroll_8c-example.html#a6">graphics/Backgrounds/Mode1ContinuosScroll/Mode1ContinuosScroll.c</a>, and <a class="el" href="graphics_2_sprites_2_dynamic_sprite_2_dynamic_sprite_8c-example.html#a0">graphics/Sprites/DynamicSprite/DynamicSprite.c</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_1fce5620edc95505dc9b3bb80528afca.html">snes</a></li><li class="navelem"><a class="el" href="interrupt_8h.html">interrupt.h</a></li>
    <li class="footer">Generated on Fri Jan 3 2025       Generated on Fri Jan 3 2025 18:26:13 for PVSnesLib by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.9.8 </li>
</div>
</body>
</html>
